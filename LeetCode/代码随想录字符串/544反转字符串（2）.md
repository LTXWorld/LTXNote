# 544反转字符串（2）

## 题目要求：

给定一个字符串 `s` 和一个整数 `k`，从字符串开头算起，每计数至 `2k` 个字符，就反转这 `2k` 字符中的前 `k` 个字符。

- 如果剩余字符少于 `k` 个，则将剩余字符全部反转。

- 如果剩余字符小于 `2k` 但大于或等于 `k` 个，则反转前 `k` 个字符，其余字符保持原样。

## 思路：

### 第一想法：

- 本题与反转字符很像，就是把这三个条件加上判断就行了嘛，但是其中的反转双指针的范围比较难以确定

### 困难：

- 没有注意到本题传进来一个字符串String类型的，太色了，所以得先对这个字符串进行转化，向着char类型转换
- 并且没有真正读懂题意，其实这道题就是**每次跳跃2k的距离**，然后反转k个。只要后续长度还有至少k个，它的操作是一样的，就是反转k个。直到最后剩下的不到k个。
- 所以三个条件其中两个都是一样的操作，就反转前k个。故只需要去控制第三个条件，这个控制方法也十分巧妙。

### 正解：

见上。

### 代码：

正确版

```java
class Solution {
    public String reverseStr(String s, int k) {
        /**
         * 与344题目很像，但是多了一些要求，核心还是双指针
         * 等于在344上面套了一层壳，注意指针的位置
         * 但是健壮性条件，2k一定小于字符串长度吗
         */
        int n = s.length();
        char[] arr = s.toCharArray();//将字符串s转化为字符数组，便于操作
        for (int i = 0; i < n; i+=(2 * k)) {
            //这一步是本题的精髓，最小值其实是用来控制第三个条件的
            reverse(arr,i,Math.min(i + k,n) - 1);//只要有i+k的位置即只要还有k的长度，就能再去翻转前k个
            //只有此时的位置无法保证还有k个等着你去翻转了，才去选择n翻转剩下的所有元素。
        }
        return new String(arr);//最后返回的又变成了字符串类型，这个语法我还没学到
    }
    //写一个翻转特定范围内的字符的方法
    public void reverse(char arr[],int left,int right){
        char temp = ' ';
        while(left < right){
            //进行翻转,这里写错了s传入的是个字符串，而不是char类型的字符数组
            temp = arr[left];
            arr[left] = arr[right];
            arr[right] = temp;
            left ++;
            right --;
        }
        return;
    }
}
```

错误版
```java
class Solution {
    public String reverseStr(String s, int k) {
        /**
         * 与344题目很像，但是多了一些要求，核心还是双指针
         * 等于在344上面套了一层壳，注意指针的位置
         * 但是健壮性条件，2k一定小于字符串长度吗
         */
        //假设2k一定小于字符串的长度
        int len = s.length();
        reverse(s,0,k-1);
        //翻转后长度变化
        len -= (2 * k);
        if(len < k){
            //剩余字符全部翻转
            reverse(s,2 * k,s.length() - 1);
        } else if (len >= k && len < 2*k) {
            //翻转前k个字符
            reverse(s,2 * k,2 * k + k - 1);
        }else {
            //不满足上述两个条件，意味着还能再计数2k个字符
            reverse(s,2*k,2*k + k - 1);
        }
        return s;
    }
    //写一个翻转特定范围内的字符的方法
    public void reverse(String s,int left,int right){
        char temp = ' ';
        while(left < right){
            //进行翻转,这里写错了s传入的是个字符串，而不是char类型的字符数组
            temp = s[left];
            s[left] = s[right];
            s[right] = temp;
            left ++;
            right --;
        }
        return;
    }
}
```